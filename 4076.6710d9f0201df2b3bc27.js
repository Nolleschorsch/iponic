(self.webpackChunkiponic=self.webpackChunkiponic||[]).push([[4076],{4076:(e,t,n)=>{"use strict";n.r(t),n.d(t,{Tab2PageModule:()=>x});var s=n(3083),i=n(8583),r=n(665),o=n(581),a=n(2316),u=n(4762),c=n(639),g=n(6442),l=n(5101);let d=(()=>{class e{constructor(e){this.converterService=e,this.getNetworkIncrement=e=>new l.BigInteger("2").pow(e.filter(e=>"0"===e).length.toString()),this.getSubnetCountStupid=(e,t)=>{let n=0;return e.forEach((e,s)=>{[...e].forEach((e,i)=>{e!==t[s][i]&&n++})}),Math.pow(2,n)},this.addLeadingZeroes=(e,t)=>{let n=t||8,s=[...e];for(;s.length<n;)s.unshift("0");return s.join("")}}getIPv4BinaryFromDezimal(e){return this.addLeadingZeroes(this.converterService.dezimalToBinary(e),32)}getIPv4fromBinary(e){const t=new RegExp(/.{1,8}/,"g");return e.match(t).map(e=>this.converterService.binaryToDezimal(e)).join(".")}getSubnetmaskFromCidr(e){const t=parseInt(e),n=new RegExp(/.{1,8}/,"g");return[...Array(32).keys()].map((e,n)=>n<t?"1":"0").join("").match(n)}getSubnetmaskFromSubnetCount(e,t){this.getSubnetmaskFromCidr(t);let n=0;for(;Math.pow(2,n)<e;)n++;const s=n+parseInt(t);return s>=32?(console.log("not possible!"),!1):this.getSubnetmaskFromCidr(s.toString())}getSubnetworks(e,t,n){const s=this.getNetworkIncrement(t.join("").split("")),i=e.map((e,n)=>this.converterService.booleanANDBinary(e,t[n])),r=new l.BigInteger(this.converterService.binaryToDezimal([...i].join(""))),o=this.getSubnetCountStupid(t,n);let a=[],u=new l.BigInteger("0");for(var c=0;c<o;c++){let e=new l.BigInteger("1"),t=new l.BigInteger("-1"),n=s.add(t),i=r.add(u),o=i.add(n),c=i.add(e),g=o.add(t),[d,h,m,p]=[i,o,c,g].map(e=>this.getIPv4BinaryFromDezimal(e.toString())),[b,k,f,Z]=[d,h,m,p].map(e=>this.getIPv4fromBinary(e)),v=new l.BigInteger("-2");a.push({networkID:b,networkRange:[f,Z,s.add(v).toString()],broadcast:k}),u=u.add(s)}return a}}return e.\u0275fac=function(t){return new(t||e)(c.LFG(g.I))},e.\u0275prov=c.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function h(e,t){if(1&e){const e=c.EpF();c.TgZ(0,"ion-input",21),c.NdJ("ionChange",function(t){c.CHM(e);const n=c.oxw().index;return c.oxw().setAddrOctet(t,n)})("keypress",function(t){c.CHM(e);const n=c.oxw().index;return c.oxw()._keyPressBinary(t,n)}),c.qZA()}if(2&e){const e=c.oxw().index,t=c.oxw();c.s9C("value",t.addrOctets[e])}}function m(e,t){if(1&e){const e=c.EpF();c.TgZ(0,"ion-col",8),c.TgZ(1,"ion-input",21),c.NdJ("ionChange",function(t){const n=c.CHM(e).index;return c.oxw().setAddrDezimal(t,n)})("keypress",function(t){const n=c.CHM(e).index;return c.oxw()._keyPressDezimal(t,n)}),c.qZA(),c.YNc(2,h,1,1,"ion-input",22),c.qZA()}if(2&e){const e=t.$implicit,n=c.oxw();c.xp6(1),c.s9C("value",e),c.xp6(1),c.Q6J("ngIf",n.showBinary)}}function p(e,t){if(1&e&&(c.TgZ(0,"ion-select-option",23),c._uU(1),c.qZA()),2&e){const e=t.$implicit;c.s9C("value",e),c.xp6(1),c.hij("/",e,"")}}function b(e,t){if(1&e){const e=c.EpF();c.TgZ(0,"ion-input",24),c.NdJ("ionChange",function(t){c.CHM(e);const n=c.oxw().index;return c.oxw(2).setSubmaskOctet(t,n)})("keypress",function(t){c.CHM(e);const n=c.oxw().index;return c.oxw(2)._keyPressSubmaskBinary(t,n)}),c.qZA()}if(2&e){const e=c.oxw().index,t=c.oxw(2);c.s9C("value",t.submaskOctets[e])}}function k(e,t){if(1&e){const e=c.EpF();c.TgZ(0,"ion-col",8),c.TgZ(1,"ion-input",24),c.NdJ("ionChange",function(t){const n=c.CHM(e).index;return c.oxw(2).setSubmaskDezimal(t,n)})("keypress",function(t){const n=c.CHM(e).index;return c.oxw(2)._keyPressSubmaskDezimal(t,n)}),c.qZA(),c.YNc(2,b,1,1,"ion-input",25),c.qZA()}if(2&e){const e=t.$implicit,n=c.oxw(2);c.xp6(1),c.s9C("value",e),c.xp6(1),c.Q6J("ngIf",n.showBinary)}}function f(e,t){if(1&e&&(c.TgZ(0,"ion-select-option",23),c._uU(1),c.qZA()),2&e){const e=t.$implicit;c.s9C("value",e),c.xp6(1),c.hij("/",e,"")}}function Z(e,t){if(1&e){const e=c.EpF();c.TgZ(0,"ion-row"),c._UZ(1,"ion-col",4),c.YNc(2,k,3,2,"ion-col",7),c.TgZ(3,"ion-col",8),c.TgZ(4,"ion-select",9),c.NdJ("ngModelChange",function(t){return c.CHM(e),c.oxw().subCidr=t}),c.YNc(5,f,2,2,"ion-select-option",10),c.qZA(),c.qZA(),c.qZA()}if(2&e){const e=c.oxw();c.xp6(2),c.Q6J("ngForOf",e.submaskDezimals)("ngForTrackBy",e.trackByFn),c.xp6(2),c.Q6J("ngModel",e.subCidr),c.xp6(1),c.Q6J("ngForOf",e.subCidrRange.slice(e.fuckNg(e.cidr)))}}function v(e,t){if(1&e){const e=c.EpF();c.TgZ(0,"ion-row"),c.TgZ(1,"ion-col",18),c.TgZ(2,"ion-label"),c._uU(3,"Enter number of Subnets:"),c.qZA(),c.TgZ(4,"ion-input",26),c.NdJ("ionChange",function(t){return c.CHM(e),c.oxw().setSubnetCount(t)})("keypress",function(t){return c.CHM(e),c.oxw()._keyPressSubnetCount(t)}),c.qZA(),c.qZA(),c.qZA()}if(2&e){const e=c.oxw();c.xp6(4),c.s9C("value",e.subnetCount)}}const w=function(e){return{"unused-network-row":e}};function y(e,t){if(1&e&&(c.TgZ(0,"ion-row",15),c._UZ(1,"ion-col",4),c.TgZ(2,"ion-col"),c._uU(3),c.qZA(),c.TgZ(4,"ion-col"),c._uU(5),c.qZA(),c.TgZ(6,"ion-col"),c._uU(7),c.qZA(),c.qZA()),2&e){const e=t.$implicit,n=t.index,s=c.oxw();c.Q6J("ngClass",c.VKq(6,w,n>=s.subnetCount)),c.xp6(3),c.Oqu(e.networkID),c.xp6(2),c.lnq(" ",e.networkRange[0]," - ",e.networkRange[1]," (",e.networkRange[2],") "),c.xp6(2),c.Oqu(e.broadcast)}}const C=function(e,t){return{foo:e,bar:t}},S=[{path:"",component:(()=>{class e{constructor(e,t,n){this.converterService=e,this.fooService=t,this.toastController=n,this._showBinary=!0,this._addrOctets=["11000000","10101000","00000001","00000000"],this._addrDezimals=["192","168","1","0"],this._cidr="24",this._subCidr="24",this._submaskDezimals=["","","",""],this._submaskOctets=["","","",""],this._subnetCount=1,this._useSubnetmask=!1,this._subnets=[],this.cidrRange=[...Array(33).keys()].map((e,t)=>t.toString()),this.subCidrRange=[...Array(33).keys()].map((e,t)=>t.toString())}get showBinary(){return this._showBinary}get addrOctets(){return this._addrOctets}get addrDezimals(){return this._addrDezimals}get cidr(){return console.log(typeof this._cidr),this._cidr}set cidr(e){this._cidr=e}get subCidr(){return this._subCidr}set subCidr(e){this._subCidr=e;let t=parseInt(e)-parseInt(this._cidr);this._subnetCount=Math.pow(2,t)}get useSubnetmask(){return this._useSubnetmask}get submaskDezimals(){return this._submaskDezimals}get submaskOctets(){return this._submaskOctets}get subnetCount(){return this._subnetCount}get subnets(){return this._subnets}set subnets(e){this._subnets=e}fuckNg(e){return parseInt(e)}trackByFn(e,t){return e}toggleShowBinary(){this._showBinary=!this._showBinary}toggleUseSubnetmask(){this._useSubnetmask=!this._useSubnetmask}_keyPressDezimal(e,t){const n=this.converterService.getDigits("10"),s=this.converterService.isValidNumber(e.key,n),i=parseInt(this.addrDezimals[t]+e.key),r=s&&i>=0&&i<=255;return r||e.preventDefault(),r}_keyPressSubmaskDezimal(e,t){const n=this.converterService.getDigits("10"),s=this.converterService.isValidNumber(e.key,n),i=parseInt(this.submaskDezimals[t]+e.key),r=s&&i>=0&&i<=255;return r||e.preventDefault(),r}_keyPressBinary(e,t){const n=this.converterService.getDigits("2"),s=this.converterService.isValidNumber(e.key,n)&&(this.addrOctets[t]+e.key).length<=8;return s||e.preventDefault(),s}_keyPressSubmaskBinary(e,t){const n=this.converterService.getDigits("2"),s=this.converterService.isValidNumber(e.key,n)&&(this.submaskOctets[t]+e.key).length<=8;return s||e.preventDefault(),s}_keyPressSubnetCount(e){const t=this.converterService.getDigits("10"),n=this.converterService.isValidNumber(e.key,t);return n||e.preventDefault(),n}setAddrDezimal(e,t){this._addrDezimals[t]=""===e.target.value?"0":e.target.value}setAddrOctet(e,t){this._addrOctets[t]=""===e.target.value?"0":e.target.value}setSubmaskDezimal(e,t){const n=""===e.target.value?"0":e.target.value;this._submaskDezimals[t]=n,this._submaskOctets[t]=this.converterService.dezimalToBinary(n)}setSubmaskOctet(e,t){const n=""===e.target.value?"0":e.target.value;this._submaskOctets[t]=n,this._submaskDezimals[t]=this.converterService.binaryToDezimal(n)}setSubnetCount(e){this._subnetCount=parseInt(e.target.value)}calculateSubnets(){const e=this.useSubnetmask?this.fooService.getSubnetmaskFromCidr(this.subCidr.toString()):this.fooService.getSubnetmaskFromSubnetCount(this.subnetCount,this.cidr.toString());console.log(e,"wtf");const t=this.fooService.getSubnetmaskFromCidr(this.cidr.toString());e?this._subnets=this.fooService.getSubnetworks(this.addrOctets,e,t):this.presentToast("Not possible!")}presentToast(e){return(0,u.mG)(this,void 0,void 0,function*(){(yield this.toastController.create({message:e,duration:2e3})).present()})}}return e.\u0275fac=function(t){return new(t||e)(c.Y36(g.I),c.Y36(d),c.Y36(s.yF))},e.\u0275cmp=c.Xpm({type:e,selectors:[["app-tab2"]],decls:36,vars:19,consts:[[3,"translucent"],[3,"fullscreen"],["collapse","condense"],["size","large"],["size","12","size-sm","1"],[3,"color","click"],[3,"name"],["size","12","size-sm","2",4,"ngFor","ngForOf","ngForTrackBy"],["size","12","size-sm","2"],[3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[1,"ion-justify-content-center"],["size","6"],[1,"center"],[1,"d-flex","align-items-center","center"],[3,"ngClass"],["color","primary",3,"ionChange"],[4,"ngIf"],[1,"ion-col-center"],[3,"click"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"value","ionChange","keypress"],[3,"value","ionChange","keypress",4,"ngIf"],[3,"value"],["placeholder","enter subnetmask",3,"value","ionChange","keypress"],["placeholder","enter subnetmask",3,"value","ionChange","keypress",4,"ngIf"],["placeholder","Enter number of subnets",3,"value","ionChange","keypress"]],template:function(e,t){1&e&&(c.TgZ(0,"ion-header",0),c.TgZ(1,"ion-toolbar"),c.TgZ(2,"ion-title"),c._uU(3," IPv4 Networking "),c.qZA(),c.qZA(),c.qZA(),c.TgZ(4,"ion-content",1),c.TgZ(5,"ion-header",2),c.TgZ(6,"ion-toolbar"),c.TgZ(7,"ion-title",3),c._uU(8,"IPv4 Networking"),c.qZA(),c.qZA(),c.qZA(),c.TgZ(9,"ion-grid"),c.TgZ(10,"ion-row"),c.TgZ(11,"ion-col",4),c.TgZ(12,"ion-button",5),c.NdJ("click",function(){return t.toggleShowBinary()}),c._UZ(13,"ion-icon",6),c.qZA(),c.qZA(),c.YNc(14,m,3,2,"ion-col",7),c.TgZ(15,"ion-col",8),c.TgZ(16,"ion-select",9),c.NdJ("ngModelChange",function(e){return t.cidr=e}),c.YNc(17,p,2,2,"ion-select-option",10),c.qZA(),c.qZA(),c.qZA(),c.TgZ(18,"ion-row",11),c.TgZ(19,"ion-col",12),c.TgZ(20,"h5",13),c._uU(21,"i have"),c.qZA(),c.TgZ(22,"ion-item"),c.TgZ(23,"div",14),c.TgZ(24,"span",15),c._uU(25,"the number of subnets"),c.qZA(),c.TgZ(26,"ion-toggle",16),c.NdJ("ionChange",function(){return t.toggleUseSubnetmask()}),c.qZA(),c.TgZ(27,"span",15),c._uU(28,"the subnet mask"),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.YNc(29,Z,6,4,"ion-row",17),c.YNc(30,v,5,1,"ion-row",17),c.TgZ(31,"ion-row"),c.TgZ(32,"ion-col",18),c.TgZ(33,"ion-button",19),c.NdJ("click",function(){return t.calculateSubnets()}),c._uU(34,"GO"),c.qZA(),c.qZA(),c.qZA(),c.YNc(35,y,8,8,"ion-row",20),c.qZA(),c.qZA()),2&e&&(c.Q6J("translucent",!0),c.xp6(4),c.Q6J("fullscreen",!0),c.xp6(8),c.s9C("color",t.showBinary?"medium":"primary"),c.xp6(1),c.s9C("name",t.showBinary?"eye-off-outline":"eye-outline"),c.xp6(1),c.Q6J("ngForOf",t.addrDezimals)("ngForTrackBy",t.trackByFn),c.xp6(2),c.Q6J("ngModel",t.cidr),c.xp6(1),c.Q6J("ngForOf",t.cidrRange),c.xp6(7),c.Q6J("ngClass",c.WLB(13,C,t.useSubnetmask,!t.useSubnetmask)),c.xp6(3),c.Q6J("ngClass",c.WLB(16,C,!t.useSubnetmask,t.useSubnetmask)),c.xp6(2),c.Q6J("ngIf",t.useSubnetmask),c.xp6(1),c.Q6J("ngIf",!t.useSubnetmask),c.xp6(5),c.Q6J("ngForOf",t.subnets))},directives:[s.Gu,s.sr,s.wd,s.W2,s.jY,s.Nd,s.wI,s.YG,s.gu,i.sg,s.t9,s.QI,r.JJ,r.On,s.Ie,i.mk,s.ho,s.w,i.O5,s.pK,s.j9,s.n0,s.Q$],styles:[".center[_ngcontent-%COMP%]{position:relative;width:100%;display:flex;justify-content:center;align-items:center}.foo[_ngcontent-%COMP%]{border:1px solid red}.bar[_ngcontent-%COMP%]{border:1px solid green}.ion-col-center[_ngcontent-%COMP%]{text-align:center}.unused-network-row[_ngcontent-%COMP%]{display:none}"]}),e})()}];let _=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=c.oAB({type:e}),e.\u0275inj=c.cJS({imports:[[a.Bz.forChild(S)],a.Bz]}),e})(),x=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=c.oAB({type:e}),e.\u0275inj=c.cJS({imports:[[s.Pc,i.ez,r.u5,o.e,_]]}),e})()}}]);